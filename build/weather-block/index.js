(()=>{"use strict";var e,t={537:(e,t,a)=>{const r=window.wp.blocks,l=window.React,o=window.wp.i18n,n=window.wp.blockEditor,c=window.wp.components,i=window.wp.element,s=window.wp.apiFetch;var h=a.n(s);const m=JSON.parse('{"UU":"weather-block/weather"}');(0,r.registerBlockType)(m.UU,{edit:function({attributes:e,setAttributes:t}){const{location:a,units:r,displayMode:s}=e,[m,u]=(0,i.useState)(null),[w,d]=(0,i.useState)(!1),[p,b]=(0,i.useState)(null);(0,i.useEffect)(()=>{const e=setTimeout(()=>{(async()=>{if(!a||""===a.trim())return u(null),void b(null);d(!0),b(null);try{const e=await h()({path:`/weather-block/v1/weather/${encodeURIComponent(a)}?units=${r}`,method:"GET"});u(e)}catch(e){console.error("Weather API Error:",e),b(e.message||(0,o.__)("Could not fetch weather data. Please check the location and try again.","weather-block")),u(null)}finally{d(!1)}})()},500);return()=>clearTimeout(e)},[a,r]);const _=(0,n.useBlockProps)({className:`weather-block-editor weather-block-editor--theme-${s}`});return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(n.InspectorControls,null,(0,l.createElement)(c.PanelBody,{title:(0,o.__)("Weather Settings","weather-block"),initialOpen:!0},(0,l.createElement)(c.TextControl,{label:(0,o.__)("Location","weather-block"),value:a,onChange:e=>{t({location:e})},placeholder:(0,o.__)("Enter city name (e.g., New York)","weather-block"),help:(0,o.__)("Enter the name of the city for which you want to display weather information.","weather-block")}),(0,l.createElement)(c.RadioControl,{label:(0,o.__)("Temperature Units","weather-block"),selected:r,options:[{label:(0,o.__)("Celsius (째C)","weather-block"),value:"metric"},{label:(0,o.__)("Fahrenheit (째F)","weather-block"),value:"imperial"}],onChange:e=>{t({units:e})}}),(0,l.createElement)(c.RadioControl,{label:(0,o.__)("Display Mode","weather-block"),selected:s,options:[{label:(0,o.__)("Auto (System)","weather-block"),value:"auto"},{label:(0,o.__)("Light","weather-block"),value:"light"},{label:(0,o.__)("Dark","weather-block"),value:"dark"}],onChange:e=>{t({displayMode:e})},help:(0,o.__)("Auto mode will respect the user's system theme preference.","weather-block")}))),(0,l.createElement)("div",{..._},(()=>{if(!a||""===a.trim())return(0,l.createElement)("div",{className:"weather-block__placeholder"},(0,l.createElement)("p",null,(0,o.__)("Enter a location in the sidebar to display weather information.","weather-block")));if(w)return(0,l.createElement)("div",{className:"weather-block__loading"},(0,l.createElement)(c.Spinner,null),(0,l.createElement)("p",null,(0,o.__)("Loading weather data...","weather-block")));if(p)return(0,l.createElement)("div",{className:"weather-block__error"},(0,l.createElement)(c.Notice,{status:"error",isDismissible:!1},p));if(!m)return null;const e="metric"===r?"째C":"째F",t=`https://openweathermap.org/img/wn/${m.icon}@2x.png`;return(0,l.createElement)("div",{className:`weather-block weather-block--theme-${s}`},(0,l.createElement)("div",{className:"weather-block__header"},(0,l.createElement)("h3",{className:"weather-block__location"},m.location,", ",m.country)),(0,l.createElement)("div",{className:"weather-block__content"},(0,l.createElement)("div",{className:"weather-block__temperature"},(0,l.createElement)("img",{src:t,alt:m.description,className:"weather-block__icon"}),(0,l.createElement)("span",{className:"weather-block__temp"},Math.round(m.temperature),e)),(0,l.createElement)("div",{className:"weather-block__details"},(0,l.createElement)("p",{className:"weather-block__description"},m.description.charAt(0).toUpperCase()+m.description.slice(1)),(0,l.createElement)("p",{className:"weather-block__humidity"},(0,o.__)("Humidity","weather-block"),":"," ",m.humidity,"%"))))})()))},save:function(){return null}})}},a={};function r(e){var l=a[e];if(void 0!==l)return l.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,a,l,o)=>{if(!a){var n=1/0;for(h=0;h<e.length;h++){for(var[a,l,o]=e[h],c=!0,i=0;i<a.length;i++)(!1&o||n>=o)&&Object.keys(r.O).every(e=>r.O[e](a[i]))?a.splice(i--,1):(c=!1,o<n&&(n=o));if(c){e.splice(h--,1);var s=l();void 0!==s&&(t=s)}}return t}o=o||0;for(var h=e.length;h>0&&e[h-1][2]>o;h--)e[h]=e[h-1];e[h]=[a,l,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={596:0,108:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var l,o,[n,c,i]=a,s=0;if(n.some(t=>0!==e[t])){for(l in c)r.o(c,l)&&(r.m[l]=c[l]);if(i)var h=i(r)}for(t&&t(a);s<n.length;s++)o=n[s],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(h)},a=globalThis.webpackChunkweather_block=globalThis.webpackChunkweather_block||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var l=r.O(void 0,[108],()=>r(537));l=r.O(l)})();